<!DOCTYPE html>
<html lang="en">
<head>
<!-- META SECTION -->
<title>Actualizar Topicos</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="favicon.ico" type="image/x-icon" />



<link rel="stylesheet" type="text/css" id="theme"
	href="css/theme-default.css" />

</head>
<body>

	
	<div class="page-content">

		<!-- START X-NAVIGATION VERTICAL -->
		<ul class="x-navigation x-navigation-horizontal x-navigation-panel">
			<!-- TOGGLE NAVIGATION -->
			<li class="xn-icon-button"><a href="#"
				class="x-navigation-minimize"><span class="fa fa-dedent"></span></a>
			</li>
			<!-- END TOGGLE NAVIGATION -->
					<!-- SIGN OUT -->
			<li class="xn-icon-button pull-right"><a href="#"
				class="mb-control" data-box="#mb-signout"><span
					class="fa fa-sign-out"></span></a></li>
			<!-- END SIGN OUT -->
		
		</ul>
		<!-- END X-NAVIGATION VERTICAL -->

		<!-- PAGE CONTENT WRAPPER -->
		<div class="page-content-wrap">

			<div class="row">
				<div class="col-md-12">

					<form class="form-horizontal">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">
									<strong>Actualizar Sistema de Reservaciones </strong>
								</h3>
								<ul class="panel-controls">
									<li><a href="#" class="panel-remove"><span
											class="fa fa-times"></span></a></li>
								</ul>
							</div>
							<div class="panel-body"></div>
							<div class="panel-body"></div>

								<div class="form-group">
								</div>

								<div class="form-group">
								</div> 
								
								<div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">Id</label>
                                        <div class="col-md-6 col-xs-12">                                            
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-pencil"></span></span>
                                                <input type="text" id="id" class="form-control" disabled/>
                                            </div>                                            
                                            <span class="help-block"></span>
                                        </div>
                                    </div>

								<div class="form-group">
									</div>
								</div>

								<div class="form-group">
									 <label class="col-md-3 col-xs-12 control-label">Titulo</label>
                                        <div class="col-md-6 col-xs-12">                                            
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-pencil"></span></span>
                                                <input type="text" id="titulo" class="form-control"/ >
										</div>
										<span class="help-block">Escribe un titulo</span>
									</div>
								</div>

									<div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">Mensaje</label>
                                        <div class="col-md-6 col-xs-12">                                            
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-pencil"></span></span>
                                                <input type="text" id="mensaje" class="form-control"/ >
                                            </div>                                            
                                            <span class="help-block">Escribe un mensaje</span>
                                        </div>
                                    </div>

								<div class="form-group">
								<div class="form-group"> 
								
								<label class="col-md-3 col-xs-12 control-label">Nombre</label>
                                        <div class="col-md-6 col-xs-12">                                            
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-pencil"></span></span>
                                                <input type="text" id="nombre" class="form-control"/ >
                                            </div>                 
								</div>
 

							</div>
							<div class="panel-footer">
								<button class="btn btn-default" >Limpiar Formulario</button> 
								<a href="/foro/buscar">Ir a buscar todos los topicos</a>
								<input class="btn btn-primary pull-right" onclick="actualizarInformacion()" type="button" value="Modificar" /> 
								
								
							</div>
						</div>
					</form>

				</div>
			</div>

		</div>
		<!-- END PAGE CONTENT WRAPPER -->
	</div>
	<!-- END PAGE CONTENT -->
	</div>
	<!-- END PAGE CONTAINER -->

	

	<!-- START PRELOADS -->
	<audio id="audio-alert" src="audio/alert.mp3" preload="auto"></audio>
	<audio id="audio-fail" src="audio/fail.mp3" preload="auto"></audio>
	<!-- END PRELOADS -->

	<!-- START SCRIPTS -->
	<!-- START PLUGINS -->
	<script type="text/javascript" src="js/plugins/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="js/plugins/jquery/jquery-ui.min.js"></script>
	<script type="text/javascript"
		src="js/plugins/bootstrap/bootstrap.min.js"></script>
	<!-- END PLUGINS -->

	<!-- THIS PAGE PLUGINS -->
	<script type='text/javascript' src='js/plugins/icheck/icheck.min.js'></script>
	<script type="text/javascript"
		src="js/plugins/mcustomscrollbar/jquery.mCustomScrollbar.min.js"></script>

	<script type="text/javascript"
		src="js/plugins/bootstrap/bootstrap-datepicker.js"></script>
	<script type="text/javascript"
		src="js/plugins/bootstrap/bootstrap-file-input.js"></script>
	<script type="text/javascript"
		src="js/plugins/bootstrap/bootstrap-select.js"></script>
	<script type="text/javascript"
		src="js/plugins/tagsinput/jquery.tagsinput.min.js"></script>
	<!-- END THIS PAGE PLUGINS -->

	<script type="text/javascript" src="js/settings.js"></script>

	<script type="text/javascript" src="js/plugins.js"></script>
	<script type="text/javascript" src="js/actions.js"></script>
	<!-- END SCRIPTS --> 
	
	<script>
	function actualizarInformacion() {
		let postObj = {   
				id: document.getElementById("id").value, 
			    checkIn: document.getElementById("checkIn").value, 
			    checkOut: document.getElementById("checkOut").value, 
			    valorReserva: document.getElementById("valorReserva").value,
			    formaPago: document.getElementById("formaPago").value
			}
			
	    let post = JSON.stringify(postObj)
		const url = "/hotel/reservacion/"
		let xhr = new XMLHttpRequest()
		xhr.open('PUT', url, true)
		xhr.setRequestHeader('Content-type', 'application/json; charset=UTF-8')
		xhr.send(post);
		xhr.onload = function () {
		    if(xhr.status === 200) {
		      //  document.getElementById("response").innerHTML = xhr.response; 
		        window.alert("Tu informacion se guard√≥ con exito! :)");
		    }
		}
	}  
	
	function cargarTopico(){
		const urlParams = new URLSearchParams(window.location.search);
		const id = urlParams.get('id'); 
		const url = "/foro/buscar/consultar-topico/" + id
       		let xhr = new XMLHttpRequest()
       		xhr.open('GET', url, true)
       		xhr.setRequestHeader('Content-type', 'application/json; charset=UTF-8')
       		xhr.onload = function () {
       		    if(xhr.status === 200) {
       		        //document.getElementById("consultarend").innerHTML = xhr.response;
       		     	asignarValoresAReservacion(JSON.parse(xhr.response))
       		    }
       		}
        	xhr.send();
		
	} 
	function asignarValoresAReservacion(topico){
		 document.getElementById("id").value = topico["id"];  
		 document.getElementById("titulo").value = topico["titulo"]; 
		 document.getElementById("mensaje").value = topico["mensaje"]; 
		 document.getElementById("nombre").value = topico["usuarioEntity"]["name"]; 
		 
		
	}

	window.addEventListener('load', function() { //Cuando carga el html se manda a llamar a la funcion
    	//init() 
    	cargarTopico()
    }); 
</script>	  
</body>
</html>







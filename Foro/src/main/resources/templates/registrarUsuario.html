
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" id="theme" href="css/style-form.css"/>

    <title>Formulario Registro</title>
</head>
<body>
<section class="form-register">
    <h4>Formulario Registro</h4>
    <input class="controls" type="text" name="nombres" id="nombres" placeholder="Ingrese su Nombre Completo ">
    <input class="controls" type="text"  id="name" placeholder="Ingrese su Usuario">
    <input class="controls" type="email" name="correo" id="correo" placeholder="Ingrese su Correo">
    <input class="controls" type="password" id="password" placeholder="Ingrese su Contraseña">
    <p>Estoy de acuerdo con <a href="#">Terminos y Condiciones</a></p>
    <input class="botons" type="submit" value="Registrar" onclick="registrarHuesped()">
    <p><a href="/foro/login">¿Ya tengo Cuenta?</a></p>
</section>

</body>
<script>

function registrarHuesped() {
    // Obtener los valores de los campos del formulario
    let usuario = document.getElementById("name").value;

    let contrasena = document.getElementById("password").value;



    // Crear un objeto con los datos del formulario
    let postObj = {
        name: usuario,
        password: contrasena,
       
    };

    // Convertir el objeto a una cadena JSON
    let post = JSON.stringify(postObj);

    // Especificar la URL a la que se enviarán los datos (ajusta la URL según tus necesidades)
    const url = "/foro/usuarios/";

    // Crear una solicitud HTTP POST
    let xhr = new XMLHttpRequest();
    xhr.open('POST', url, true);

    // Configurar el encabezado de la solicitud
    xhr.setRequestHeader('Content-type', 'application/json; charset=UTF-8');

    // Enviar los datos JSON al servidor
    xhr.send(post);

    // Manejar la respuesta del servidor
    xhr.onload = function () {
        if (xhr.status === 200) {
            // La respuesta del servidor debe incluir el ID asignado
            let response = JSON.parse(xhr.responseText);
            if (response.id) {
                // Asignar el ID de la respuesta a la propiedad numeroDeReserva del objeto postObj
                
                window.alert("Tu información se guardó con éxito! " );
                console.log(postObj);
            } else {
                window.alert("Hubo un error al guardar la información.");
            }
        }
    };
}




</script>
</html>










